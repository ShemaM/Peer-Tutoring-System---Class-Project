<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/myStyles/registration.css">
    <title>Sign In / Sign Up - Peer Tutoring Program</title>
  
</head>
<body>
    <div class="login-box">
        <div class="login-header">
            <header id="form-title">Sign In</header>
        </div>

        <!-- Sign In Form -->
        <div class="input-box" id="signin-form">
            <input type="text" id="signin-email" class="input-field" placeholder="Email" autocomplete="off" required>
            <input type="password" id="signin-password" class="input-field" placeholder="Password" autocomplete="off" required>
            <select id="user-role" class="input-field" required>
                <option value="" disabled selected>Select Role</option>
                <option value="tutee">Tutee</option>
                <option value="tutor">Tutor</option>
                <option value="admin">Admin</option>
            </select>
            <button id="signin-btn" class="submit-btn">Sign In</button>
        </div>

        <!-- Sign Up Form -->
        <div class="input-box" id="signup-form" style="display: none;">
            <input type="text" id="signup-name" class="input-field" placeholder="Full Name" autocomplete="off" required>
            <input type="text" id="signup-email" class="input-field" placeholder="Email" autocomplete="off" required>
            <input type="password" id="signup-password" class="input-field" placeholder="Password" autocomplete="off" required>
            <input type="password" id="signup-confirm-password" class="input-field" placeholder="Confirm Password" autocomplete="off" required>

            <select id="signup-role" class="input-field" required>
                <option value="tutee">Tutee</option>
                <option value="tutor">Tutor</option>
                <option value="admin">Admin</option>
            </select>

            <button id="signup-btn" class="submit-btn">Sign Up</button>
        </div>

        <!-- Links to toggle between sign-up and sign-in -->
        <div class="sign-up-link" id="sign-up-link" style="display: none;">
            <p>Already have an account? <a href="#" onclick="toggleForm('signin')">Sign In</a></p>
        </div>
        <div class="sign-in-link" id="sign-in-link">
            <p>Don't have an account? <a href="#" onclick="toggleForm('signup')">Sign Up</a></p>
        </div>
    </div>

    <script>
        // Function to toggle between Sign In and Sign Up forms
        function toggleForm(formType) {
            if (formType === 'signin') {
                document.getElementById('signin-form').style.display = 'block';
                document.getElementById('signup-form').style.display = 'none';
                document.getElementById('form-title').textContent = 'Sign In';
                document.getElementById('sign-up-link').style.display = 'block';
                document.getElementById('sign-in-link').style.display = 'none';
            } else if (formType === 'signup') {
                document.getElementById('signin-form').style.display = 'none';
                document.getElementById('signup-form').style.display = 'block';
                document.getElementById('form-title').textContent = 'Sign Up';
                document.getElementById('sign-in-link').style.display = 'none';
                document.getElementById('sign-up-link').style.display = 'block';
                
            }
        }

        // Function to redirect user based on role
        function redirectToDashboard(role) {
            console.log('Redirecting to dashboard for role:', role);  // Debugging line
            if (role === 'tutee') {
                window.location.href = 'Tutee Dasboard.html';
            } else if (role === 'tutor') {
                window.location.href = 'Tutor Dashboard.html';
            } else if (role === 'admin') {
                window.location.href = 'Admin Dashboar.html';
            } else {
                console.error('Invalid role specified');
            }
        }

        // Sign Up Button Event
        const signUpButton = document.getElementById('signup-btn');
        signUpButton.addEventListener('click', () => {
            const fullName = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            const role = document.getElementById('signup-role').value;

            if (fullName && email && password && password === confirmPassword && role) {
                sessionStorage.setItem('userRole', role); // Save role in sessionStorage
                //alert('Sign Up successful!', redirectToDashboard(role));
                redirectToDashboard(role); // Redirect based on role
            } else {
                alert('Please complete all fields correctly');
            }
        });

        // Sign In Button Event
        const signInButton = document.getElementById('signin-btn');
        signInButton.addEventListener('click', () => {
            const email = document.getElementById('signin-email').value;
            const password = document.getElementById('signin-password').value;
            const role = document.getElementById('user-role').value;

            if (email && password && role) {
                sessionStorage.setItem('userRole', role); // Save role in sessionStorage
                alert('Sign In successful!');
                redirectToDashboard(role); // Redirect based on role
            } else {
                alert('Please complete all fields correctly');
            }
        });
    </script>
</body>
</html>
